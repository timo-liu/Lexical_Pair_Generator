# Lexical_Pair_Generator

## Overview
The lexical pair generator is a tool for psycholinguists or any other researcher interested in generating semantically related but distinct words for the purposes of controlling for semantic effects or conducting research for which this type of semantic neighboring is relevant. This tool uses BERT to generate token level embeddings across a corpus of your choosing, and to extract semantically related words from sentences that you provide.

## Methodological Overview
You can treat this program as a black box that returns plausible semantic neighbors to your target words in their given context. Under the hood, this code makes use of the embeddings spaces generated by large language models (Though the default model used here, BERT, can hardly be considered a "large" language model anymore, it's still very useful.). These embedding spaces have the interesting property of modeling semantic relationships between words, at least intuitively. See [Mikolov, et al. (2013)](https://arxiv.org/abs/1301.3781) for the paper that inspired much of the hype around embedding spaces.

## Credit where credit is due
The original framework is taken from David Dale [here](https://gist.github.com/avidale/c6b19687d333655da483421880441950). The code has been cleaned up and is specifically adapted for psycholinguists and other researchers who would like a ready-made file to run.

## Command Line Arguments

### Positional Arguments
- **`sentences_file`** *(str)*  
  Path to the file containing input sentences.

- **`word_file`** *(str)*  
  Path to the file containing words of interest.

- **`output_file`** *(str)*  
  Path where the output results will be saved.

### Optional Arguments
- **`--top_k`** *(int, default: `10`)*  
  Number of top neighbors to retrieve.

- **`--model_name`** *(str, default: `"bert-base-uncased"`)*  
  Hugging Face model name to be used for processing.

- **`--use_local_model`** *(str, default: `""`)*  
  Path to a local model directory (if not using Hugging Face hub).

## Installation
No installation is required for this repository. You can simply download or clone the repository and run the script directly.

### Option 1: Download as ZIP
1. Click the **Code** button at the top of this repository.
2. Select **Download ZIP**.
3. Extract the ZIP file to your desired location.

### Option 2: Clone with Git
If you have Git installed:
```bash
git clone https://github.com/timo-liu/Lexical_Pair_Generator
cd Lexical_Pair_Generator
```

### Running with Python

After you've downloaded the repository, it is recommended to use a virtual environment.

Create and activate a virtual environment:

**On Linux / macOS:**
```bash
python -m venv env
source env/bin/activate
```

**On Windows**
```bash
python -m venv env
.\env\Scripts\activate
```

**Install the requirements**
```bash
pip install -r requirements.txt
```

**Run the code with the example corpus and sentences.**
```bash
python generate.py eng-com_web-public_2018_10K-sentences.txt heteronyms.txt output.txt
```
